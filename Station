import javax.swing.*;
import javax.swing.border.LineBorder;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class BTS {
    private final int stationID;
    private static int stationCounter = 0; // zameny na unique ID

    private static int stationOnLayerCounter = 0;


    public BTS() {
        stationID = generateUniqueStationID();
    }

    public int generateUniqueStationID() {
        stationCounter++;
        return stationCounter;
    }

    public int getStationNumber(){
        return stationID;
    }

    public static JPanel getBTSLayer() {
        JPanel layerPanel = new JPanel();
        JPanel btsPanel = new JPanel();

        BTS bts = new BTS();

        stationOnLayerCounter++;

        layerPanel.setBorder(new LineBorder(Color.DARK_GRAY, 2));
        btsPanel.setBorder(new LineBorder(Color.DARK_GRAY, 1));

        JLabel stationNumLabel = new JLabel("BTS Station #" + bts.getStationNumber());

        JButton removeStationButton = new JButton();
        removeStationButton.setFocusable(false);
        removeStationButton.setEnabled(false);

        btsPanel.add(stationNumLabel);
        btsPanel.add(removeStationButton);

        layerPanel.add(btsPanel);

        if (stationOnLayerCounter > 1) removeStationButton.setEnabled(true);

        removeStationButton.addActionListener(whenRemoveStationButtonClicked -> {
            if (stationOnLayerCounter > 1) layerPanel.remove(btsPanel);
        });
        return layerPanel;
    }
}
